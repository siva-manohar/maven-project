pipeline {
    agent any
    stages {
        stage('maven clean and validate'){
            steps{
                // #pom.xml directory path
                dir("/var/lib/jenkins/workspace/sample-pipeline/my-app") {
                // #script execute
                // multiple commands script
                sh '''
                mvn validate
                mvn clean
                '''
                //Single command script
                // sh 'mvn clean'
                }
            }
        }
        stage('maven compile and test'){
            steps{
                dir("/var/lib/jenkins/workspace/sample-pipeline/my-app") {
                sh '''
                mvn compile
                mvn test
                '''                    
                }
            }
        }
        stage('maven package'){
            steps{
                dir("/var/lib/jenkins/workspace/sample-pipeline/my-app") {
                sh 'mvn package' 
                }                 
            }
        }
    }
}
